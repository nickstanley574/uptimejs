---
layout: base
header: Uptime and downtime with <span class="sla_percentage"></span> % SLA
---

<p style="font-size:x-large;clear:both;">
    Agreed SLA level:
    <input style="font-size:x-large" type="text" id="input_sla_percentage" value="" size="5" maxlength="10"> %
    <button style="font-size:large" id="submitButton" onclick="generateDowntimeNumbers()">Calculate</button>
    <span style="font-size: 75%;">(or hit the <kbd>&lt;enter&gt;</kbd> key)</span>
</p>

<p>
    SLA level of <span class="sla_percentage"></span> % uptime/availability results in the following periods of allowed downtime/unavailability during the various reporting periods: 
</p>

<ul>
    <li><b>Weekly:</b> <span id="weeklyTime"></span></li>
    <li><b>Monthly:</b> <span id="monthlyTime"></span></li>
    <li><b>Quarterly:</b> <span id="quarterlyTime"></span></li>
    <li><b>Yearly:</b> <span id="yearlyTime"></span></li>
</ul>

<p>
    Direct link to the page with these results: <a id="sla_link" href=""><span id="current_host"></span>?sla=<span class="sla_percentage"></span>&amp;wk=<span id="wk"></span></a> 
</p>

<h3>Custom monitoring periods</h3>

<p>
    Specify a number of hours the availability shall be measured on specific weekdays. 0 means that there will be no measuring on a given day (e.g. on Saturdays and Sundays), while 24 states a requirement of 24 hours of uptime on a given day. 
</p>

<table>
    <tr>
        <td><label for="uptime-monday"><strong>Monday:</strong></label></td>
        <td><input class="uptime-daily" style="font-size:large" id="uptime-monday" name="dur" value="24" size="2"> hours uptime per day</td>
    </tr>
    <tr>
        <td><label for="uptime-tuesday"><strong>Tuesday:</strong></label></td>
        <td><input class="uptime-daily" style="font-size:large" id="uptime-tuesday" name="dur" value="24" size="2"> hours uptime per day</td>
    </tr>
    <tr>
        <td><label for="uptime-wednesday"><strong>Wednesday:</strong></label></td>
        <td><input class="uptime-daily" style="font-size:large" id="uptime-wednesday" name="dur" value="24" size="2"> hours uptime per day</td>
    </tr>
    <tr>
        <td><label for="uptime-thursday"><strong>Thursday:</strong></label></td>
        <td><input class="uptime-daily" style="font-size:large" id="uptime-thursday" name="dur" value="24" size="2"> hours uptime per day</td>
    </tr>
    <tr>
        <td><label for="uptime-friday"><strong>Friday:</strong></label></td>
        <td><input class="uptime-daily" style="font-size:large" id="uptime-friday" name="dur" value="24" size="2"> hours uptime per day</td>
    </tr>
    <tr>
        <td><label for="uptime-saturday"><strong>Saturday:</strong></label></td>
        <td><input class="uptime-daily" style="font-size:large" id="uptime-saturday" name="dur" value="24" size="2"> hours uptime per day</td>
    </tr>
    <tr>
        <td><label for="uptime-sunday"><strong>Sunday:</strong></label></td>
        <td><input class="uptime-daily" style="font-size:large" id="uptime-sunday" name="dur" value="24" size="2"> hours uptime per day</td>
    </tr>
  </table> 

<p>
    For convenience, there are some quick links for a number of common monitoring periods: 
</p>
<ul>
    <li><a href="/uptimejs/flexible?sla=99.999&amp;wk=gggggaa">Relaxed</a> 6 hours/day Monday &ndash; Friday</li>
    <li><a href="/uptimejs/flexible?sla=99.999&amp;wk=iiiiiaa">Business</a> 8 hours/day Monday &ndash; Friday</li>
    <li><a href="/uptimejs/flexible?sla=99.999&amp;wk=oooooaa">Business Extended</a> 14 hours/day Monday &ndash; Friday</li>
    <li><a href="/uptimejs/flexible?sla=99.999&amp;wk=yyyyyaa">Business Extreme</a> 24 hours/day Monday &ndash; Friday</li>
    <li><a href="/uptimejs/flexible?sla=99.999&amp;wk=yyyyyyy">Founder's</a> 24/7</li>
</ul>

<script>        
    function generateDowntimeNumbers() {
        var sla_percentage = document.getElementById('input_sla_percentage').value;
    

        weeklyUptimeHours = 0
        var dailyUptimes = document.getElementsByClassName("uptime-daily");
        for (var i = 0; i < dailyUptimes.length; i++) {
            weeklyUptimeHours += parseInt(dailyUptimes[i].value)
        }

        secondsPerYear = 365 * 24 * 60 * 60;

        uptimeSecondPerYear = weeklyUptimeHours * 3600 * 52
        console.log(`weeklyUptimeHours: ${weeklyUptimeHours}`)
        console.log(`uptimeSecondPerYear: ${uptimeSecondPerYear}`)
        console.log(`secondsPerYear: ${secondsPerYear}`)

        let secondsDownPerYear = getSecondsDownPerYear(sla_percentage, uptimeSecondPerYear)
    
        secondsDownPerDay = secondsDownPerYear / 365.2425
        secondsDownPerWeek = secondsDownPerYear / 52
        secondsDownPerMonth = secondsDownPerYear / 12
        secondsDownPerQuarter = secondsDownPerYear / 4
    
        document.getElementById('weeklyTime').innerHTML = formattedElapsedTime(secondsDownPerWeek);
        document.getElementById('monthlyTime').innerHTML = formattedElapsedTime(secondsDownPerMonth);
        document.getElementById('quarterlyTime').innerHTML = formattedElapsedTime(secondsDownPerQuarter);
        document.getElementById('yearlyTime').innerHTML = formattedElapsedTime(secondsDownPerYear);
        
        var sla_percentage_locations = document.getElementsByClassName("sla_percentage");
        for (var i = 0; i < sla_percentage_locations.length; i++) {
            sla_percentage_locations[i].innerHTML = sla_percentage;
        }
    
        var yourElement = document.getElementById('sla_link');
        yourElement.setAttribute('href', `?sla=${sla_percentage}&wk=qwertyu`);
    }
    
    const inputField = document.getElementById("input_sla_percentage");
    const button = document.getElementById("submitButton");
    
    const urlParams = new URLSearchParams(window.location.search);
    const sla = urlParams.get('sla')
    wk = urlParams.get('wk')

    var wkElement = document.getElementById('wk');
    wkElement.innerHTML = "qwertyu"

    if (wk != null) {
        mon = letterToNumber(wk[0])
        tue = letterToNumber(wk[1])
        wed = letterToNumber(wk[2])
        thu = letterToNumber(wk[3])
        fri = letterToNumber(wk[4])
        sat = letterToNumber(wk[5])
        sun = letterToNumber(wk[6])

        document.getElementById("uptime-monday").value = mon
        document.getElementById("uptime-tuesday").value = tue
        document.getElementById("uptime-wednesday").value = wed
        document.getElementById("uptime-thursday").value = thu
        document.getElementById("uptime-friday").value = fri
        document.getElementById("uptime-saturday").value = sat
        document.getElementById("uptime-sunday").value = sun
    }


    // document.getElementById("current_host").textContent = window.location.href.replace(/(^\w+:|^)\/\//, '');
    
    if (sla != null) {
        document.getElementById("input_sla_percentage").value = sla
        button.click()
    } else {
        document.getElementById("input_sla_percentage").value = 99.99
        button.click()
    }
    
    inputField.addEventListener("keyup", function(event) {
        // Check if "Enter" key was pressed
        if (event.keyCode === 13) {
          button.click();
        }
      });
    
    </script>
